class Solution {
public:
    int minRemoval(vector<int>& nums, int k) {
      int n = nums.size();

        
        if (n <= 1) {
            return 0;
        }

        std::sort(nums.begin(), nums.end());

        int max_len = 0; 
        int left = 0;   

        
        for (int right = 0; right < n; ++right) {
          
            while (nums[right] <= (long long)k * nums[left]) {
              
                left++;
            }

            
            max_len = std::max(max_len, right - left + 1);
        }

        
        return  max_len;
        
    }
};
